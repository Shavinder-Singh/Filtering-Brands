<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./style.css">
</head>


<body>

    <!-- first div -->
    <div class="brands_container cloth_brands">
        <div class="popupwrapper">
            <h2>Clothes Brands</h2>
            <span class="arrowIcon"><svg fill="#000000" height="200px" width="200px" version="1.1" id="Layer_1"
                    xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 330 330"
                    xml:space="preserve">
                    <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                    <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                    <g id="SVGRepo_iconCarrier">
                        <path id="XMLID_225_"
                            d="M325.607,79.393c-5.857-5.857-15.355-5.858-21.213,0.001l-139.39,139.393L25.607,79.393 c-5.857-5.857-15.355-5.858-21.213,0.001c-5.858,5.858-5.858,15.355,0,21.213l150.004,150c2.813,2.813,6.628,4.393,10.606,4.393 s7.794-1.581,10.606-4.394l149.996-150C331.465,94.749,331.465,85.251,325.607,79.393z">
                        </path>
                    </g>
                </svg></span>
        </div>

        <ul>
            <div class="search">
                <input type="text" placeholder="Enter Your Clothes Name" class="search_bar" id="search_bar">
            </div>
            <li>Nike</li>
            <li>Adidas</li>
            <li>Uber</li>
            <li>Louis Vuitton</li>
            <li>Starbucks</li>
            <li>Nike</li>
            <li>Adidas</li>
            <li>Uber</li>
            <li>Louis Vuitton</li>
            <li>Starbucks</li>
            <div class="show_more_container">
                Show More
            </div>
        </ul>
    </div>

    <div class="brands_container media_brands">
        <div class="popupwrapper">
            <h2>Media Brands</h2>
            <span class="arrowIcon"><svg fill="#000000" height="200px" width="200px" version="1.1" id="Layer_1"
                    xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 330 330"
                    xml:space="preserve">
                    <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                    <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                    <g id="SVGRepo_iconCarrier">
                        <path id="XMLID_225_"
                            d="M325.607,79.393c-5.857-5.857-15.355-5.858-21.213,0.001l-139.39,139.393L25.607,79.393 c-5.857-5.857-15.355-5.858-21.213,0.001c-5.858,5.858-5.858,15.355,0,21.213l150.004,150c2.813,2.813,6.628,4.393,10.606,4.393 s7.794-1.581,10.606-4.394l149.996-150C331.465,94.749,331.465,85.251,325.607,79.393z">
                        </path>
                    </g>
                </svg></span>
        </div>

        <ul>
            <div class="search">
                <input type="text" placeholder="Enter Your Media Devices Name" class="search_bar" id="search_bar">
            </div>
            <li>Sony</li>
            <li>Intel</li>
            <li>Tesla</li>
            <li>Starbucks</li>
            <li>Louis Vuitton</li>
            <li>Nike</li>
            <li>Adidas</li>
            <li>Uber</li>
            <li>Louis Vuitton</li>
            <li>Starbucks</li>
            <li>Nike</li>
            <li>Adidas</li>
            <li>Uber</li>
            <li>Louis Vuitton</li>
            <li>Starbucks</li>
            <li>Nike</li>
            <li>Adidas</li>
            <li>Uber</li>
            <li>Louis Vuitton</li>
            <li>Starbucks</li>
            <li>Nike</li>
            <li>Adidas</li>
            <li>Uber</li>
            <li>Louis Vuitton</li>
            <li>Starbucks</li>
            <li>Nike</li>
            <li>Adidas</li>
            <li>Uber</li>
            <li>Louis Vuitton</li>
            <li>Starbucks</li>
            <li>Nike</li>
            <li>Adidas</li>
            <li>Uber</li>
            <li>Louis Vuitton</li>
            <li>21</li>
            <div class="show_more_container">
                Show More
            </div>
        </ul>
    </div>

    <div class="brands_container car_brands ">
        <div class="popupwrapper">
            <h2>Car Brands</h2>
            <span class="arrowIcon"><svg fill="#000000" height="200px" width="200px" version="1.1" id="Layer_1"
                    xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 330 330"
                    xml:space="preserve">
                    <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                    <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                    <g id="SVGRepo_iconCarrier">
                        <path id="XMLID_225_"
                            d="M325.607,79.393c-5.857-5.857-15.355-5.858-21.213,0.001l-139.39,139.393L25.607,79.393 c-5.857-5.857-15.355-5.858-21.213,0.001c-5.858,5.858-5.858,15.355,0,21.213l150.004,150c2.813,2.813,6.628,4.393,10.606,4.393 s7.794-1.581,10.606-4.394l149.996-150C331.465,94.749,331.465,85.251,325.607,79.393z">
                        </path>
                    </g>
                </svg></span>
        </div>

        <ul>
            <div class="search">
                <input type="text" placeholder="Enter Your Cars Name" class="search_bar" id="search_bar">
            </div>
            <li>Porsche</li>
            <li>Rolls-Royce</li>
            <li>Guinness</li>
            <li>Bentley</li>
            <li>Aston Martin</li>
            <li>Ferrari</li>
            <li>Lamborghini</li>
            <li>Maserati</li>
            <li>Bugatti</li>
            <li>Jaguar</li>
            <li>Alfa Romeo</li>
            <li>Audi</li>
            <li>Land Rover</li>
            <div class="show_more_container">
                Show More
            </div>
        </ul>
    </div>

    <script>
        const containers = document.querySelectorAll(".brands_container");

        containers.forEach(container => {
            var input = container.querySelector(".search_bar");
            var list = container.querySelector("ul");
            var items = list.getElementsByTagName("li");
            var openWrapper = container.querySelectorAll(".popupwrapper");
            var show_more_button = container.querySelector(".show_more_container");


            input.addEventListener("input", () => {
                var inputValue = input.value.toLowerCase();
                var filteredItems = [];

                Array.from(items).forEach(item => {
                    var listItemText = item.textContent.toLowerCase();
                    if (listItemText.includes(inputValue)) {
                        filteredItems.push(item);
                        item.style.display = "list-item";  
                    } else {
                        item.style.display = "none";
                    }
                });

                // Update show more button visibility based on filtered items
                if (filteredItems.length > 10) {
                    show_more_button.style.display = "block";
                } else {
                    show_more_button.style.display = "none";
                }
            });

            // show search bar if lists is less then 10
            if (items.length <= 10) {
                input.style.display = "none";
            } else {
                input.style.display = "block";
            }

            // button automatically shown (show more button) 
            if (items.length > 10) {
                show_more_button.style.display = "block";
            } else {
                show_more_button.style.display = "none";
            }

            // hide another div on clicking another div
            openWrapper.forEach(wrapper => {
                var arrowIcon = wrapper.querySelector(".arrowIcon");

                wrapper.addEventListener("click", () => {
                    if (list.style.display === "block") { // Check if list is currently visible
                        list.style.display = "none"; // If visible, hide it
                        arrowIcon.style.transform = "rotate(0deg)";
                    } else {
                        list.style.display = "block"; // If hidden, show it
                        arrowIcon.style.transform = "rotate(180deg)";
                        containers.forEach(otherContainer => {
                            if (otherContainer !== container) {
                                otherContainer.querySelector("ul").style.display = "none";
                                otherContainer.querySelector(".arrowIcon").style.transform = "rotate(0deg)";
                            }
                        });
                    }
                });
            });



            //show  
            if (items.length > 10) {
                Array.from(items).slice(10).forEach(item => {
                    item.style.display = "none";
                });
                show_more_button.style.display = "block";
            }

            show_more_button.addEventListener("click", () => {
                Array.from(items).slice(10).forEach(item => {
                    if (item.style.display === "none") {
                        item.style.display = "block";
                        show_more_button.textContent = "Show Less";
                        item.style.display = "list-item";  

                    } else {
                        item.style.display = "none";
                        show_more_button.textContent = "Show More";
                    }
                });
            });
        });

    </script>

</body>

</html>